{"openapi":"3.0.0","paths":{"/auth/register":{"post":{"operationId":"AuthController_signup","summary":"유저 등록 API","description":"유저 등록하는 API 입니다.","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateUserDto"}}}},"responses":{"201":{"description":"유저등록 성공시 결과 예시","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserRegisteredResponse"}}}}},"tags":["[1] 인증 (Auth)"]}},"/auth/login":{"post":{"operationId":"AuthController_login","summary":"로그인 API","description":"로그인하는 API 입니다.","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserLoginDto"}}}},"responses":{"200":{"description":"로그인 성공시 결과 예시","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserLoginedResponse"}}}}},"tags":["[1] 인증 (Auth)"]}},"/api/users/{id}":{"patch":{"operationId":"UserController_update","summary":"유저 수정 API","description":"유저 수정하는 API 입니다.","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUserDto"}}}},"responses":{"200":{"description":"유저 수정 성공시 결과 예시","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserUpdateResponse"}}}},"401":{"description":"Unauthorized"}},"tags":["[2] 유저 (User)"],"security":[{"bearer":[]}]}},"/api/deliveries":{"post":{"operationId":"DeliveryController_createDelivery","summary":"배송 생성 API","description":"배송 생성하는 API 입니다.","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateDeliveryDto"}}}},"responses":{"200":{"description":"배송 생성 성공시 결과 예시","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeliveryCreateResponse"}}}},"401":{"description":"Unauthorized"}},"tags":["[4] 배송 (Delivery)"],"security":[{"bearer":[]}]},"get":{"operationId":"DeliveryController_getDeliveries","summary":"배송 리스트 조회 API","description":"배송 리스트를 조회하는 API 입니다.","parameters":[{"name":"title","required":false,"in":"query","description":"제목","example":"상품명","schema":{"type":"string"}},{"name":"code","required":false,"in":"query","description":"코드","schema":{"default":"08","type":"string"}},{"name":"invoice","required":false,"in":"query","description":"운송장번호","schema":{"default":"243636855173","type":"string"}},{"name":"level","required":false,"in":"query","description":"배송단계(1~6단계), -99 배송 스캔 오류","schema":{"minimum":1,"maximum":6,"type":"number"}},{"name":"isComplete","required":false,"in":"query","description":"배송 완료 여부","schema":{"type":"boolean"}},{"name":"filter.time","required":false,"in":"query","example":"$btw:2022-01-01,2023-01-01","schema":{}},{"name":"page","required":false,"in":"query","example":1,"schema":{}},{"name":"limit","required":false,"in":"query","example":20,"schema":{}},{"name":"search","required":false,"in":"query","schema":{}},{"name":"sortBy","required":false,"in":"query","example":"id:DESC","schema":{}}],"responses":{"200":{"description":"배송 리스트 조회 성공시 결과 예시","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/Paginated"},{"properties":{"statusCode":{"type":"number","default":200},"message":{"type":"string","default":"리스트 및 페이지 조회를 완료하였습니다"},"data":{"type":"array","items":{"$ref":"#/components/schemas/DeliveryEntity"}},"meta":{"properties":{"itemsPerPage":{"type":"number","default":20},"totalItems":{"type":"number","default":1000},"currentPage":{"type":"number","default":1},"totalPages":{"type":"number","default":1},"sortBy":{"type":"array","default":["id","DESC"]},"searchBy":{"type":"array","default":"title"},"search":{"type":"string","default":"가나다"},"filter":{"type":"array","default":[]}}},"links":{"properties":{"first":{"type":"string","default":"https:// admin.labcode.kr/adm/v1/entity?page=1&limit=20&sortBy=id:DESC&search=가나다"},"previous":{"type":"string","default":"https:// admin.labcode.kr/adm/v1/entity?page=5&limit=20&sortBy=id:DESC&search=가나다"},"current":{"type":"string","default":"https:// admin.labcode.kr/adm/v1/entity?page=6&limit=20&sortBy=id:DESC&search=가나다"},"next":{"type":"string","default":"https:// admin.labcode.kr/adm/v1/entity?page=7&limit=20&sortBy=id:DESC&search=가나다"},"last":{"type":"string","default":"https:// admin.labcode.kr/adm/v1/entity?page=50&limit=20&sortBy=id:DESC&search=가나다"}}}}}]}}}},"401":{"description":"Unauthorized"}},"tags":["[4] 배송 (Delivery)"],"security":[{"bearer":[]}]}},"/api/deliveries/{id}":{"get":{"operationId":"DeliveryController_getOneDelivery","summary":"배송 상세 조회 API","description":"배송 상세 조회하는 API 입니다.","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}},{"name":"title","required":false,"in":"query","description":"제목","example":"상품명","schema":{"type":"string"}},{"name":"code","required":false,"in":"query","description":"코드","schema":{"default":"08","type":"string"}},{"name":"invoice","required":false,"in":"query","description":"운송장번호","schema":{"default":"243636855173","type":"string"}},{"name":"level","required":false,"in":"query","description":"배송단계(1~6단계), -99 배송 스캔 오류","schema":{"minimum":1,"maximum":6,"type":"number"}},{"name":"isComplete","required":false,"in":"query","description":"배송 완료 여부","schema":{"type":"boolean"}}],"responses":{"200":{"description":"배송 상세 조회 성공시 결과 예시","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeliveryRetrieveResponse"}}}},"401":{"description":"Unauthorized"}},"tags":["[4] 배송 (Delivery)"],"security":[{"bearer":[]}]}},"/api/deliveries/{id}/template":{"get":{"operationId":"DeliveryController_getOneDeliveryHtml","summary":"배송 상세페이지 조회 API","description":"배송 상세페이지 조회하는 API 입니다.","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""},"401":{"description":"Unauthorized"}},"tags":["[4] 배송 (Delivery)"],"security":[{"bearer":[]}]}},"/health":{"get":{"operationId":"HealthCheckerController_check","parameters":[],"responses":{"200":{"description":"The Health Check is successful","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","example":"ok"},"info":{"type":"object","example":{"database":{"status":"up"}},"additionalProperties":{"type":"object","properties":{"status":{"type":"string"}},"additionalProperties":{"type":"string"}},"nullable":true},"error":{"type":"object","example":{},"additionalProperties":{"type":"object","properties":{"status":{"type":"string"}},"additionalProperties":{"type":"string"}},"nullable":true},"details":{"type":"object","example":{"database":{"status":"up"}},"additionalProperties":{"type":"object","properties":{"status":{"type":"string"}},"additionalProperties":{"type":"string"}}}}}}}},"503":{"description":"The Health Check is not successful","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","example":"error"},"info":{"type":"object","example":{"database":{"status":"up"}},"additionalProperties":{"type":"object","properties":{"status":{"type":"string"}},"additionalProperties":{"type":"string"}},"nullable":true},"error":{"type":"object","example":{"redis":{"status":"down","message":"Could not connect"}},"additionalProperties":{"type":"object","properties":{"status":{"type":"string"}},"additionalProperties":{"type":"string"}},"nullable":true},"details":{"type":"object","example":{"database":{"status":"up"},"redis":{"status":"down","message":"Could not connect"}},"additionalProperties":{"type":"object","properties":{"status":{"type":"string"}},"additionalProperties":{"type":"string"}}}}}}}}},"tags":["[0] 기본 (Default)"]}}},"info":{"title":"Delivery Admin API","description":"### REST\nRoutes is following REST standard (Richardson level 3)\n<details><summary>Detailed specification</summary>\n<p>\n**List:**\n  - `GET /<resources>/`\n    - Get the list of **<resources>** as admin\n  - `GET /user/<user_id>/<resources>/`\n    - Get the list of **<resources>** for a given **<user_id>**\n    - Output a **403** if logged user is not **<user_id>**\n**Detail:**\n  - `GET /<resources>/<resource_id>`\n    - Get the detail for **<resources>** of id **<resource_id>**\n    - Output a **404** if not found\n  - `GET /user/<user_id>/<resources>/<resource_id>`\n    - Get the list of **<resources>** for a given **user_id**\n    - Output a **404** if not found\n    - Output a **403** if:\n      - Logged user is not **<user_id>**\n      - The **<user_id>** have no access to **<resource_id>**\n**Creation / Edition / Replacement / Suppression:**\n  - `<METHOD>` is:\n    - **POST** for creation\n    - **PATCH** for update (one or more fields)\n    - **PUT** for replacement (all fields, not used)\n    - **DELETE** for suppression (all fields, not used)\n  - `<METHOD> /<resources>/<resource_id>`\n    - Create **<resources>** with id **<resource_id>** as admin\n    - Output a **400** if **<resource_id>** conflicts with existing **<resources>**\n  - `<METHOD> /user/<user_id>/<resources>/<resource_id>`\n    - Create **<resources>** with id **<resource_id>** as a given **user_id**\n    - Output a **409** if **<resource_id>** conflicts with existing **<resources>**\n    - Output a **403** if:\n      - Logged user is not **<user_id>**\n      - The **<user_id>** have no access to **<resource_id>**\n</p>\n</details>","version":"v1.0.0","contact":{}},"tags":[],"servers":[],"components":{"securitySchemes":{"bearer":{"scheme":"bearer","bearerFormat":"JWT","type":"http"}},"schemas":{"CreateUserDto":{"type":"object","properties":{"key":{"type":"string","description":"고유 키","default":"key-here"},"name":{"type":"string","description":"이름","default":"홍길동"},"phone":{"type":"string","description":"전화번호","default":"01040840660"},"email":{"type":"string","description":"이메일","default":"sample@test.com"},"address":{"type":"string","description":"주소","default":"서울 강남구"},"postcode":{"type":"string","description":"우편번호","default":"06325"}}},"UserTokenDto":{"type":"object","properties":{"id":{"type":"string","default":"7e5f0280-db53-11ec-9d64-0242ac120002"},"key":{"type":"string","description":"고유 키","default":"key-here"},"name":{"type":"string","description":"이름","default":"홍길동"},"phone":{"type":"string","description":"전화번호","default":"01040840660"},"email":{"type":"string","description":"이메일","default":"sample@test.com"},"address":{"type":"string","description":"주소","default":"서울 강남구"},"postcode":{"type":"string","description":"우편번호","default":"06325"},"expiresIn":{"type":"number","default":3600},"accessToken":{"type":"string","default":"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiIxZTA2ZDQ1Zi03YzUzLTQzNTYtODlhOC02ZWQ2OTBiNzM1YjciLCJ0eXBlIjoiQUNDRVNTX1RPS0VOIiwicm9sZSI6IlVTRVIiLCJpYXQiOjE2NTM2NTA1MzJ9.Re1ElE6f5Hdw-YY5Gfto2Tj1jOGB5QkyitWrOyh6HH42X2htB8M8iyumpbYvnAbPHk1A0YwRZjrtMLaSvpZlkg"}},"required":["expiresIn","accessToken"]},"UserRegisteredResponse":{"type":"object","properties":{"statusCode":{"type":"object","default":201},"message":{"type":"string","default":"유저 등록이 완료하였습니다."},"data":{"$ref":"#/components/schemas/UserTokenDto"}},"required":["statusCode","message","data"]},"UserLoginDto":{"type":"object","properties":{"id":{"type":"string","default":"7e5f0280-db53-11ec-9d64-0242ac120002"}}},"UserLoginedResponse":{"type":"object","properties":{"statusCode":{"type":"object","default":200},"message":{"type":"string","default":"유저 로그인을 완료하였습니다."},"data":{"$ref":"#/components/schemas/UserTokenDto"}},"required":["statusCode","message","data"]},"UpdateUserDto":{"type":"object","properties":{"name":{"type":"string","description":"이름","default":"홍길동"},"phone":{"type":"string","description":"전화번호","default":"01040840660"},"email":{"type":"string","description":"이메일","default":"sample@test.com"},"address":{"type":"string","description":"주소","default":"서울 강남구"},"postcode":{"type":"string","description":"우편번호","default":"06325"}}},"DeliveryHistoryEntity":{"type":"object","properties":{"id":{"type":"string","default":"7e5f0280-db53-11ec-9d64-0242ac120002"},"delivery":{"$ref":"#/components/schemas/DeliveryEntity"},"deliveryId":{"type":"string","description":"delivery의 id","default":"7e5f0280-db53-11ec-9d64-0242ac120002"},"category":{"type":"string","description":"카테고리"},"level":{"type":"number","minimum":1,"maximum":6,"description":"배송단계(1~6단계), -99 배송 스캔 오류"},"time":{"type":"string","description":"진행시간"},"order":{"type":"number","minimum":1,"description":"배송순서"},"callOffice":{"type":"string","description":"진행위치(지점)전화번호"},"addressOffice":{"type":"string","description":"진행위치지점"},"nameDriver":{"type":"string","description":"배송기사 이름"},"pictureDriver":{"type":"string","description":"배송기사 사진"},"callDriver":{"type":"string","description":"배송기사 전화번호"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"},"translations":{"type":"array","items":{"type":"string"}},"dtoClass":{"type":"object"}},"required":["id","delivery","deliveryId","category","level","time","order","callOffice","addressOffice","nameDriver","pictureDriver","callDriver","createdAt","updatedAt","dtoClass"]},"DeliveryEntity":{"type":"object","properties":{"id":{"type":"string","default":"7e5f0280-db53-11ec-9d64-0242ac120002"},"user":{"$ref":"#/components/schemas/UserEntity"},"userId":{"type":"string","description":"유저의 uuid","default":"7e5f0280-db53-11ec-9d64-0242ac120002"},"title":{"type":"string","description":"제목","example":"상품명"},"code":{"type":"string","description":"코드","default":"08"},"invoice":{"type":"string","description":"운송장번호","default":"243636855173"},"status":{"type":"text","description":"배송 상태"},"level":{"type":"number","minimum":1,"maximum":6,"description":"배송단계(1~6단계), -99 배송 스캔 오류"},"estimate":{"type":"string","description":"배송 예정 시간","default":""},"time":{"type":"string","description":"택배사 처리시간"},"isComplete":{"type":"boolean","description":"배송 완료 여부"},"nameSender":{"type":"string","description":"발신인 이름"},"callOffice":{"type":"string","description":"사업소 전화번호"},"callDriver":{"type":"string","description":"배송기사 전화번호"},"nameDriver":{"type":"string","description":"배송기사 이름"},"addressReceiver":{"type":"string","description":"수취인 주소"},"nameReceiver":{"type":"string","description":"수취인 이름"},"isTrackingRegistered":{"type":"boolean","description":"추적 등록 여부"},"deliveryHistories":{"type":"array","items":{"$ref":"#/components/schemas/DeliveryHistoryEntity"}},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"},"translations":{"type":"array","items":{"type":"string"}},"dtoClass":{"type":"object"}},"required":["id","user","userId","title","code","invoice","status","level","estimate","time","isComplete","nameSender","callOffice","callDriver","nameDriver","addressReceiver","nameReceiver","isTrackingRegistered","deliveryHistories","createdAt","updatedAt","dtoClass"]},"UserEntity":{"type":"object","properties":{"id":{"type":"string","default":"7e5f0280-db53-11ec-9d64-0242ac120002"},"key":{"type":"string","description":"고유 키","default":"key-here"},"name":{"type":"string","description":"이름","default":"홍길동"},"phone":{"type":"string","description":"전화번호","default":"01040840660"},"email":{"type":"string","description":"이메일","default":"sample@test.com"},"address":{"type":"string","description":"주소","default":"서울 강남구"},"postcode":{"type":"string","description":"우편번호","default":"06325"},"deliveries":{"type":"array","items":{"$ref":"#/components/schemas/DeliveryEntity"}},"role":{"type":"string","enum":["USER","ADMIN"]},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"},"translations":{"type":"array","items":{"type":"string"}},"dtoClass":{"type":"object"}},"required":["id","key","name","phone","email","address","postcode","deliveries","role","createdAt","updatedAt","dtoClass"]},"UserUpdateResponse":{"type":"object","properties":{"statusCode":{"type":"object","default":200},"message":{"type":"string","default":"수정을 완료하였습니다."},"data":{"$ref":"#/components/schemas/UserEntity"},"errors":{"type":"object"}},"required":["statusCode"]},"CreateDeliveryDto":{"type":"object","properties":{"code":{"type":"string","description":"코드","default":"08"},"invoice":{"type":"string","description":"운송장번호","default":"243636855173"}}},"DeliveryCreateResponse":{"type":"object","properties":{"statusCode":{"type":"object","default":201},"message":{"type":"string","default":"생성을 완료하였습니다."},"data":{"$ref":"#/components/schemas/DeliveryEntity"},"errors":{"type":"object"}},"required":["statusCode"]},"Paginated":{"type":"object","properties":{}},"DeliveryRetrieveResponse":{"type":"object","properties":{"statusCode":{"type":"object","default":200},"message":{"type":"string","default":"상세 조회를 완료하였습니다."},"data":{"$ref":"#/components/schemas/DeliveryEntity"},"errors":{"type":"object"}},"required":["statusCode"]}}}}